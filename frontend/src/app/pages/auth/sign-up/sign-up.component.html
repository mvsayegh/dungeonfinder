<div class="flex layout-dark min-h-screen">
  <div
    class="w-6/12 h-screen hidden md:block flex-shrink-0"
    style="max-width: 50%; background-image: url('assets/images/register.jpg'); background-repeat: no-repeat; background-size: cover"></div>

  <div class="w-full bg-[#09090b]">
    <p-fluid
      class="min-h-screen text-center w-full flex items-center md:items-start justify-center flex-col bg-auto md:bg-contain !bg-no-repeat p-fluid"
      style="padding: 10%">
      <div class="flex flex-col">
        <div class="flex items-center mb-8"><h3>Dungeon Finder</h3></div>

        <div class="form-container text-left" style="max-width: 320px; min-width: 270px">
          <span class="text-2xl font-semibold m-0 mb-4">Register</span>
          <span class="block text-surface-600 dark:text-surface-200 font-medium mb-6">Let's get started</span>
          <form [formGroup]="registerForm" (ngSubmit)="register()" class="p-fluid">
            <div class="field mb-4">
              <div class="flex items-center">
                <div class="flex-grow">
                  <label for="name" class="block text-sm font-medium text-surface-700 dark:text-surface-200">Name</label>
                  <input id="name" type="text" formControlName="name" pInputText class="w-full mt-2" placeholder="Enter your name" />
                </div>
              </div>
              <p-message
                *ngIf="registerForm.get('name')?.invalid && registerForm.get('name')?.touched"
                severity="error"
                text="Name is required"
                styleClass="mt-2"></p-message>
            </div>

            <div class="field mb-4">
              <div class="flex items-center">
                <div class="flex-grow">
                  <label for="email" class="block text-sm font-medium text-surface-700 dark:text-surface-200">Email</label>
                  <input id="email" type="email" formControlName="email" pInputText class="w-full mt-2" placeholder="Enter your email" />
                </div>
              </div>
              <p-message
                *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
                severity="error"
                text="Email is required"
                styleClass="mt-2"></p-message>

              <p-message
                *ngIf="registerForm.get('email')?.hasError('email') && registerForm.get('email')?.touched"
                severity="error"
                text="Invalid email format"
                styleClass="mt-2"></p-message>
            </div>

            <div class="field mb-4">
              <div class="flex items-center">
                <div class="flex-grow">
                  <label for="password" class="block text-sm font-medium text-surface-700 dark:text-surface-200">Password</label>
                  <p-password
                    [toggleMask]="true"
                    id="password"
                    formControlName="password"
                    class="w-full mt-2"
                    placeholder="Enter your password"
                    autocomplete="off">
                    <ng-template #header>
                      <div class="font-semibold text-sm mb-2">Pick a password</div>
                    </ng-template>

                    <ng-template #footer>
                      <p-divider />
                      <ul class="pl-2 ml-2 my-0 leading-normal text-xs text-surface-700 dark:text-surface-200">
                        <li>At least one lowercase</li>

                        <li>At least one uppercase</li>

                        <li>At least one numeric</li>

                        <li>Minimum 8 characters</li>
                      </ul>
                    </ng-template>
                  </p-password>
                </div>
              </div>

              <p-message
                *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
                severity="error"
                text="Password is required"
                styleClass="mt-2"></p-message>
            </div>

            <div class="field mb-4">
              <div class="flex items-center">
                <div class="flex-grow">
                  <label for="confirmPassword" class="block text-sm font-medium text-surface-700 dark:text-surface-200">Confirm Password</label>

                  <p-password
                    [feedback]="false"
                    [toggleMask]="true"
                    id="confirmPassword"
                    formControlName="confirmPassword"
                    class="w-full mt-2"
                    placeholder="Confirm your password"
                    autocomplete="off">
                  </p-password>
                </div>
              </div>

              <p-message
                *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched"
                severity="error"
                text="Confirm Password is required"
                styleClass="mt-2"></p-message>
            </div>

            <div class="field mb-4">
              <div class="flex items-start">
                <p-checkbox formControlName="terms" inputId="terms" [binary]="true" />
                <label for="terms" class="ml-2 text-sm font-medium text-surface-700 dark:text-surface-200"
                  >I agree to the <a href="javascript:void(0)" (click)="showTermsAndConditions()" class="text-primary">terms and conditions</a></label
                >
              </div>
            </div>

            <div class="flex items-center justify-content-center">
              <p-button pRipple type="submit" class="w-full mb-2" size="large" label="Register" [disabled]="registerForm.invalid" [loading]="loading"></p-button>
            </div>
          </form>
        </div>

        <div class="mt-6 text-left" style="max-width: 320px; min-width: 270px">
          <span> Already have an account? <a [routerLink]="'/signin'">Login</a> </span>
        </div>
      </div>

      <div class="flex items-center mt-6">
        <div class="flex items-center pr-6 mr-6 border-r border-surface-200 dark:border-surface-700">Dungeon Finder</div>
        <span class="text-sm text-surface-500 dark:text-surface-400 mr-4">Copyright 2025</span>
      </div>
    </p-fluid>
  </div>
</div>

<p-toast></p-toast>

<p-dialog
  header="Terms and Conditions"
  [(visible)]="termsAndConditionsVisible"
  [modal]="true"
  [style]="{ width: '50vw' }"
  [breakpoints]="{ '960px': '75vw', '640px': '90vw' }">
  <p>
    These terms and conditions ("Terms") govern your use of the Dungeon Finder application (the "App"). By accessing or using the App, you agree to be
    bound by these Terms.
  </p>

  <p>
    <strong>1. Acceptance of Terms</strong> By using the App, you acknowledge that you have read, understood, and agree to be bound by these Terms. If
    you do not agree to these Terms, you should not use the App.
  </p>

  <p>
    <strong>2. Use of the App</strong> The App is provided for the purpose of connecting players for online gaming sessions. You agree to use the App
    only for lawful purposes and in a manner that does not infringe the rights of or restrict or inhibit the use and enjoyment of the App by any third
    party.
  </p>

  <p>
    <strong>3. User Content</strong> You are solely responsible for any content you submit, post, or display on or through the App ("User Content").
    You grant to us a non-exclusive, transferable, sub-licensable, royalty-free, worldwide license to use, copy, modify, create derivative works based
    on, distribute, publicly display, publicly perform, and otherwise exploit in any manner such User Content in all formats and distribution channels
    now known or hereafter devised (including in connection with the App and our business), without further notice to or consent from you, and without
    the requirement of payment to you or any other person or entity.
  </p>

  <p>
    <strong>4. Privacy</strong> Your use of the App is also governed by our Privacy Policy, which is incorporated into these Terms by reference.
    Please read the Privacy Policy carefully.
  </p>

  <p>
    <strong>5. Disclaimer of Warranties</strong> THE APP IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS. WE DISCLAIM ALL WARRANTIES OF ANY KIND,
    EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND
    NON-INFRINGEMENT. WE MAKE NO WARRANTY THAT THE APP WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE.
  </p>

  <p>
    <strong>6. Limitation of Liability</strong> TO THE FULLEST EXTENT PERMITTED BY APPLICABLE LAW, WE SHALL NOT BE LIABLE FOR ANY INDIRECT,
    INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS OR REVENUES, WHETHER INCURRED DIRECTLY OR INDIRECTLY, OR ANY LOSS
    OF DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES, RESULTING FROM (A) YOUR USE OF OR INABILITY TO USE THE APP; (B) ANY UNAUTHORIZED ACCESS TO OR
    USE OF OUR SERVERS AND/OR ANY PERSONAL INFORMATION STORED THEREIN; (C) ANY INTERRUPTION OR CESSATION OF TRANSMISSION TO OR FROM THE APP; (D) ANY
    BUGS, VIRUSES, TROJAN HORSES, OR THE LIKE THAT MAY BE TRANSMITTED TO OR THROUGH THE APP BY ANY THIRD PARTY; (E) ANY ERRORS OR OMISSIONS IN ANY
    CONTENT OR FOR ANY LOSS OR DAMAGE OF ANY KIND INCURRED AS A RESULT OF YOUR USE OF ANY CONTENT POSTED, EMAILED, TRANSMITTED, OR OTHERWISE MADE
    AVAILABLE VIA THE APP; AND/OR (F) THE DEFAMATORY, OFFENSIVE, OR ILLEGAL CONDUCT OF ANY THIRD PARTY.
  </p>

  <p>
    <strong>7. Governing Law</strong> These Terms shall be governed by and construed in accordance with the laws of the State of SÃ£o Paulo, Brazil,
    without regard to its conflict of law provisions.
  </p>

  <p>
    <strong>8. Changes to Terms</strong> We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is
    material, we will provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at
    our sole discretion.
  </p>

  <p><strong>9. Contact Us</strong> If you have any questions about these Terms, please contact us.</p>
  <ng-template pTemplate="footer"> <p-button label="Close" (click)="termsAndConditionsVisible = false"></p-button> </ng-template>
</p-dialog>
